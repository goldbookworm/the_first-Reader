#include "reg52.h"
#include "naddr.h"
uchar code Q212[26]={0x88,0x83,0xc6,0xa1,0x86,0x8e,0xc2,0x89,0xf0,0xf1,0x8c,0xc7,0xc8,0xab,0xa3,0x8c,0x98,0xce,0xb6,0x87,0xc1,0xe3,0x81,0x9b,0x91,0xa5};
uchar code Q21[N]={0x92, 0xc6, 0x88, 0xc7, 0x88, 0xce, 0xff, 0x81, 0x88, 0xe3, 0x86, 0x92, 0xff, 0x8c, 0xce, 0xa3, 0x8c, 0x88, 0xc2, 0x88, 0x87, 0xf0, 0xab, 0xc2, 0xff, 0xf0, 0xab, 0xff, 0x87, 0x89, 0x86, 0xff, 0xa1, 0xf0, 0xce, 0x86, 0xc6, 0x87, 0xf0, 0xa3, 0xab, 0xff, 0xa3, 0x8e, 0xff, 0x87, 0x89, 0x86, 0xff, 0xc8, 0x88, 0xc2, 0xab, 0x86, 0x87, 0xf0, 0xc6, 0xff, 0x8e, 0xf0, 0x86, 0xc7, 0xa1, 0xff, 0xe3, 0x86, 0xc6, 0x87, 0xa3, 0xce, 0xff, 0x88, 0xce, 0x86, 0xff, 0xc6, 0xc7, 0x86, 0x88, 0xce, 0xc7, 0x91, 0xff, 0xa1, 0xce, 0xf0, 0xe3, 0x86, 0xab, 0xff, 0x83, 0x91, 0xff, 0xc8, 0x88, 0xc2, 0xab, 0x86, 0x87, 0xf0, 0xc6, 0xff, 0x8e, 0xf0, 0x86, 0xc7, 0xa1, 0x92, 0x7f, 0x88, 0xab, 0xa1, 0xff, 0x88, 0xce, 0x86, 0xff, 0x8e, 0xa3, 0xce, 0xc8, 0x86, 0xa1, 0x7f, 0xff, 0x8e, 0xa3, 0xce, 0xff, 0x86, 0x9b, 0x88, 0xc8, 0x8c, 0xc7, 0x86, 0xff, 0x83, 0x91, 0xff, 0xce, 0xa3, 0x87, 0x88, 0x87, 0xf0, 0xab, 0xc2, 0xff, 0x86, 0xc7, 0x86, 0xc6, 0x87, 0xce, 0xf0, 0xc6, 0x88, 0xc7, 0xff, 0xc6, 0x89, 0x88, 0xce, 0xc2, 0x86, 0x92, 0x7f, 0xff, 0x92, 0xc1, 0xc6, 0x89, 0xff, 0x8e, 0xf0, 0x86, 0xc7, 0xa1, 0xff, 0xe3, 0xa3, 0xce, 0x87, 0x86, 0x9b, 0x86, 0x92, 0xff, 0xc8, 0xc1, 0x92, 0x87, 0xff, 0x83, 0x86, 0xff, 0x92, 0x86, 0x88, 0xce, 0xc6, 0x89, 0x86, 0xa1, 0xff, 0x8e, 0xa3, 0xce, 0x7f, 0x88, 0x92, 0xff, 0x92, 0xc1, 0xc6, 0x89, 0xff, 0x88, 0xff, 0xc8, 0xa3, 0x87, 0xa3, 0xce, 0xff, 0x81, 0xa3, 0xc1, 0xc7, 0xa1, 0xff, 0x83, 0x86, 0xff, 0xc6, 0x88, 0x8c, 0x88, 0x83, 0xc7, 0x86, 0xff, 0x87, 0xa3, 0xff, 0xa1, 0xce, 0xf0, 0xe3, 0x86, 0xff, 0x87, 0x89, 0x86, 0xff, 0x83, 0xf0, 0xa3, 0xc7, 0xa3, 0xc2, 0xf0, 0xc6, 0x88, 0xc7, 0xff, 0x8c, 0xce, 0xa3, 0xc6, 0x86, 0x92, 0x92, 0x86, 0x92, 0xff, 0x88, 0xab, 0xa1, 0xff, 0xc6, 0x89, 0x86, 0xc8, 0xf0, 0xc6, 0x88, 0xc7, 0xff, 0xce, 0x86, 0x88, 0xc6, 0x87, 0xf0, 0xa3, 0xab, 0x92, 0xff};
V Delay(uint t)
{
	W(t--);
	W(t--);
}
V Delay2(uint t)
{
	W(t--);
}
V Select74HC573(uchar channel)
{
	S(channel)
	{
		C 4:
			P2=(P2&0x1f)|0x80;
		B;
		C 5:
			P2=(P2&0x1f)|0xa0;
		B;
		C 6:
			P2=(P2&0x1f)|0xc0;
		B;
		C 7:
			P2=(P2&0x1f)|0xe0;
		B;
	}
}
V LEDandSPEAKER(V)
{
	S573(4);
	P0=0xff;
	S573(5);
	P0=0x00;
}
V Q21_show(uchar what,unsigned where)
{
	S573(7);
	P0=0xff;
	S573(6);
	P0=0x01<<where;
	S573(7);
	P0=what;
}
V working(V)
{
	uchar state=60000;unsigned i;int n;
	F(n=0;n<((N-8)+1);n++)//the number of moves of Display box + 1.For example,（N-8）+1==3
	{
		W(state--)
		{
		F(i=0;i<8;i++)
			{
				Q21S(Q21[i+n],i);
				D2(999);
			}
		}
		state=60000;
	}
	F(n=8;n>=0;n--)
	{
		W(state--)
		{
		F(i=0;i<5;i++)
			{
				Q21S(Q212[i],i+n);
				D2(999);
			}
		}
		state=60000;
	}
	W(state--)
	{
		F(i=1;i<5;i++)
			{
				Q21S(Q212[i],i-1);
				D2(999);
			}
	}
	state=60000;
	W(state--)
	{
		F(i=2;i<5;i++)
			{
				Q21S(Q212[i],i-2);
				D2(999);
			}
	}
	W(state--)
	{
		F(i=3;i<5;i++)
			{
				Q21S(Q212[i],i-3);
				D2(999);
			}
	}
	state=60000;
	W(state--)
	{
		F(i=4;i<5;i++)
			{
				Q21S(Q212[i],i-4);
				D2(999);
			}
	}
	D(60000);
	F(i=0;i<8;i++)
			{
				Q21S(0xff,i);
				D2(999);
			}
}
V main()
{
	LEAR();
	D(30000);
	working();
	
}